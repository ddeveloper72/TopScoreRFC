import{b as qe,c as Ue}from"./chunk-UPH5B3ZT.js";import{a as we}from"./chunk-QXSMZO3Y.js";import{G as Le,U as $e,Y as Ve,a as Ee,b as Ie,c as Ae,i as F,j as Be,k as De,l as j,m as Ge,n as Re,p as ze,s as Fe,v as He,z as Ne}from"./chunk-C4GSKLOI.js";import{Aa as xe,Ba as Se,G as fe,H as be,S as ve,W as Ce,Z as z,f as he,m as ue,ra as ye,sa as Me,ta as ke,ua as Oe,va as Pe,wa as Te,xa as w,za as E}from"./chunk-R635WWNH.js";import{c as je,d as H,f as I,g as N,i as L}from"./chunk-T3Q3DASN.js";import{$ as U,$a as O,$b as b,Ba as X,Db as ne,Gb as r,Hb as i,Hc as le,Ib as f,Ic as pe,Kb as ae,Mb as ie,Mc as ge,Nb as l,Nc as _e,Ob as re,Pb as y,Tb as D,Ub as G,Vb as R,W as q,Zb as a,_a as s,_b as _,a as u,aa as W,ac as oe,b as A,bb as Y,ca as B,e as V,fa as g,gc as se,ic as ce,j as v,lb as P,mb as J,na as K,nb as S,nc as me,oa as Q,ob as ee,rb as C,ta as x,xb as te,ya as Z,yb as d,zc as de}from"./chunk-46RRTFY4.js";function et(o,m){if(o&1){let t=ae();r(0,"div",1)(1,"button",2),l("click",function(){K(t);let n=y();return Q(n.action())}),a(2),i()()}if(o&2){let t=y();s(2),b(" ",t.data.action," ")}}var tt=["label"];function nt(o,m){}var at=Math.pow(2,31)-1,T=class{_overlayRef;instance;containerInstance;_afterDismissed=new v;_afterOpened=new v;_onAction=new v;_durationTimeoutId;_dismissedByAction=!1;constructor(m,t){this._overlayRef=t,this.containerInstance=m,m._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(m){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(m,at))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},We=new B("MatSnackBarData"),M=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},it=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275dir=S({type:o,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return o})(),rt=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275dir=S({type:o,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return o})(),ot=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275dir=S({type:o,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return o})(),Ke=(()=>{class o{snackBarRef=g(T);data=g(We);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0),a(1),i(),C(2,et,3,1,"div",1)),e&2&&(s(),b(" ",n.data.message,`
`),s(),ne(n.hasAction?2:-1))},dependencies:[w,it,rt,ot],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return o})(),st={snackBarState:je("state",[N("void, hidden",I({transform:"scale(0.8)",opacity:0})),N("visible",I({transform:"scale(1)",opacity:1})),L("* => visible",H("150ms cubic-bezier(0, 0, 0.2, 1)")),L("* => void, * => hidden",H("75ms cubic-bezier(0.4, 0.0, 1, 1)",I({opacity:0})))])},ct=(()=>{class o extends De{_ngZone=g(Z);_elementRef=g(X);_changeDetectorRef=g(me);_platform=g(ue);snackBarConfig=g(M);_document=g(de);_trackedModals=new Set;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new v;_onExit=new v;_onEnter=new v;_animationState="void";_live;_label;_role;_liveElementId=g(Ce).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),e}attachTemplatePortal(t){this._assertNotAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),e}attachDomPortal=t=>{this._assertNotAttached();let e=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),e};onAnimationEnd(t){let{fromState:e,toState:n}=t;if((n==="void"&&e!=="void"||n==="hidden")&&this._completeExit(),n==="visible"){let c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(p=>t.classList.add(p)):t.classList.add(e)),this._exposeToModals();let n=this._label.nativeElement,c="mdc-snackbar__label";n.classList.toggle(c,!n.querySelector(`.${c}`))}_exposeToModals(){let t=this._liveElementId,e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<e.length;n++){let c=e[n],p=c.getAttribute("aria-owns");this._trackedModals.add(c),p?p.indexOf(t)===-1&&c.setAttribute("aria-owns",p+" "+t):c.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let e=t.getAttribute("aria-owns");if(e){let n=e.replace(this._liveElementId,"").trim();n.length>0?t.setAttribute("aria-owns",n):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),n?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,n){if(e&1&&(D(j,7),D(tt,7)),e&2){let c;G(c=R())&&(n._portalOutlet=c.first),G(c=R())&&(n._label=c.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(e,n){e&1&&re("@state.done",function(p){return n.onAnimationEnd(p)}),e&2&&ie("@state",n._animationState)},features:[ee],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,n){e&1&&(r(0,"div",1)(1,"div",2,0)(3,"div",3),C(4,nt,0,0,"ng-template",4),i(),f(5,"div"),i()()),e&2&&(s(5),te("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[j],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[st.snackBarState]}})}return o})();function mt(){return new M}var dt=new B("mat-snack-bar-default-options",{providedIn:"root",factory:mt}),$=(()=>{class o{_overlay=g(ze);_live=g(ve);_injector=g(x);_breakpointObserver=g(fe);_parentSnackBar=g(o,{optional:!0,skipSelf:!0});_defaultConfig=g(dt);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Ke;snackBarContainerComponent=ct;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){let c=u(u({},this._defaultConfig),n);return c.data={message:t,action:e},c.announcementMessage===t&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=x.create({parent:n||this._injector,providers:[{provide:M,useValue:e}]}),p=new F(this.snackBarContainerComponent,e.viewContainerRef,c),h=t.attach(p);return h.instance.snackBarConfig=e,h.instance}_attach(t,e){let n=u(u(u({},new M),this._defaultConfig),e),c=this._createOverlay(n),p=this._attachSnackBarContainer(c,n),h=new T(p,c);if(t instanceof Y){let k=new Be(t,null,{$implicit:n.data,snackBarRef:h});h.instance=p.attachTemplatePortal(k)}else{let k=this._createInjector(n,h),Xe=new F(t,void 0,k),Ye=p.attachComponentPortal(Xe);h.instance=Ye.instance}return this._breakpointObserver.observe(be.HandsetPortrait).pipe(q(c.detachments())).subscribe(k=>{c.overlayElement.classList.toggle(this.handsetCssClass,k.matches)}),n.announcementMessage&&p._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(h,n),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){let e=new Re;e.direction=t.direction;let n=this._overlay.position().global(),c=t.direction==="rtl",p=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!c||t.horizontalPosition==="end"&&c,h=!p&&t.horizontalPosition!=="center";return p?n.left("0"):h?n.right("0"):n.centerHorizontally(),t.verticalPosition==="top"?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){let n=t&&t.viewContainerRef&&t.viewContainerRef.injector;return x.create({parent:n||this._injector,providers:[{provide:T,useValue:e},{provide:We,useValue:t.data}]})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=U({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Qe=(()=>{class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=J({type:o});static \u0275inj=W({providers:[$],imports:[Fe,Ge,E,z,Ke,z]})}return o})();function pt(o,m){if(o&1&&(r(0,"div",28)(1,"mat-card",29)(2,"mat-card-content")(3,"div",30)(4,"mat-icon",31),a(5,"emoji_events"),i(),a(6),i()()()()),o&2){let t,e=y();s(6),oe(" ",(t=e.getWinningTeam())==null?null:t.name," is leading by ",e.getScoreDifference()," points ")}}function gt(o,m){if(o&1&&(r(0,"div",36)(1,"div",37),a(2),se(3,"date"),i(),r(4,"div",38),a(5),i(),r(6,"div",39),a(7),i()()),o&2){let t=m.$implicit;s(2),_(ce(3,3,t.timestamp,"HH:mm:ss")),s(3),_(t.description),s(2),b("+",t.points,"")}}function _t(o,m){if(o&1&&(r(0,"div",40)(1,"small"),a(2),i()()),o&2){let t=y(2);s(2),b("Showing latest 10 of ",t.scoreHistory.length," events")}}function ht(o,m){if(o&1&&(r(0,"div",32)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),a(5,"history"),i(),a(6," Score History "),i()(),r(7,"mat-card-content")(8,"div",33),C(9,gt,8,6,"div",34),i(),C(10,_t,3,1,"div",35),i()()()),o&2){let t=y();s(9),d("ngForOf",t.scoreHistory.slice(0,10)),s(),d("ngIf",t.scoreHistory.length>10)}}var Ze=class o{constructor(m,t,e,n){this.dialog=m;this.snackBar=t;this.route=e;this.gameStorageService=n}homeTeam={name:"Home Team",score:0,tries:0,conversions:0,penalties:0,dropGoals:0,penaltyTries:0,color:"#1976d2"};awayTeam={name:"Away Team",score:0,tries:0,conversions:0,penalties:0,dropGoals:0,penaltyTries:0,color:"#388e3c"};gameStarted=!1;gameTime="00:00";gameTimer;startTime=null;scoreHistory=[];currentGameId=null;subscription=new V;autoSaveInterval;ngOnInit(){this.route.queryParams.subscribe(m=>{m.homeTeam&&(this.homeTeam.name=m.homeTeam),m.awayTeam&&(this.awayTeam.name=m.awayTeam),m.matchId&&console.log("Match ID:",m.matchId)}),this.loadActiveGame(),this.autoSaveInterval=setInterval(()=>{this.gameStarted&&this.currentGameId&&this.saveGameState()},3e4)}ngOnDestroy(){this.subscription.unsubscribe(),this.gameTimer&&clearInterval(this.gameTimer),this.autoSaveInterval&&clearInterval(this.autoSaveInterval),this.gameStarted&&this.currentGameId&&this.saveGameState()}startGame(){this.gameStarted=!0,this.startTime=new Date,this.currentGameId||this.createNewGame(),this.startTimer(),this.snackBar.open("Game Started!","Close",{duration:2e3}),this.saveGameState()}endGame(){this.gameStarted=!1,this.gameTimer&&clearInterval(this.gameTimer),this.currentGameId&&this.saveGameState(),this.snackBar.open("Game Ended!","Close",{duration:2e3})}resetGame(){this.gameStarted=!1,this.gameTimer&&clearInterval(this.gameTimer),this.gameTime="00:00",this.startTime=null,this.scoreHistory=[],this.currentGameId=null,this.homeTeam=A(u({},this.homeTeam),{score:0,tries:0,conversions:0,penalties:0,dropGoals:0,penaltyTries:0}),this.awayTeam=A(u({},this.awayTeam),{score:0,tries:0,conversions:0,penalties:0,dropGoals:0,penaltyTries:0}),this.snackBar.open("Game Reset!","Close",{duration:2e3})}startTimer(){this.gameTimer=setInterval(()=>{if(this.startTime){let t=new Date().getTime()-this.startTime.getTime(),e=Math.floor(t/6e4),n=Math.floor(t%6e4/1e3);this.gameTime=`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}},1e3)}addScore(m,t){let e=m==="home"?this.homeTeam:this.awayTeam,n=0,c="";switch(t){case"try":n=5,e.tries++,c=`Try scored by ${e.name}`;break;case"conversion":n=2,e.conversions++,c=`Conversion by ${e.name}`;break;case"penalty":n=3,e.penalties++,c=`Penalty kick by ${e.name}`;break;case"dropGoal":n=3,e.dropGoals++,c=`Drop goal by ${e.name}`;break;case"penaltyTry":n=5,e.penaltyTries++,c=`Penalty try awarded to ${e.name}`;break}e.score+=n,this.scoreHistory.unshift({timestamp:new Date,team:e.name,scoreType:t,points:n,description:c}),this.snackBar.open(`${c} (+${n} pts)`,"Close",{duration:3e3}),this.currentGameId&&this.saveGameState()}undoLastScore(){if(this.scoreHistory.length===0){this.snackBar.open("No scores to undo","Close",{duration:2e3});return}let m=this.scoreHistory.shift(),t=m.team===this.homeTeam.name?this.homeTeam:this.awayTeam;switch(t.score-=m.points,m.scoreType){case"try":t.tries--;break;case"conversion":t.conversions--;break;case"penalty":t.penalties--;break;case"dropGoal":t.dropGoals--;break;case"penaltyTry":t.penaltyTries--;break}this.snackBar.open(`Undid: ${m.description}`,"Close",{duration:3e3}),this.currentGameId&&this.saveGameState()}editTeamName(m){let t=m==="home"?this.homeTeam:this.awayTeam,e=prompt(`Enter new name for ${t.name}:`,t.name);e&&e.trim()&&(t.name=e.trim())}getWinningTeam(){return this.homeTeam.score>this.awayTeam.score?this.homeTeam:this.awayTeam.score>this.homeTeam.score?this.awayTeam:null}getScoreDifference(){return Math.abs(this.homeTeam.score-this.awayTeam.score)}saveGameState(){if(!this.currentGameId)return;let m={homeTeam:{name:this.homeTeam.name,score:this.homeTeam.score,breakdown:{tries:this.homeTeam.tries,conversions:this.homeTeam.conversions,penalties:this.homeTeam.penalties,dropGoals:this.homeTeam.dropGoals,penaltyTries:this.homeTeam.penaltyTries}},awayTeam:{name:this.awayTeam.name,score:this.awayTeam.score,breakdown:{tries:this.awayTeam.tries,conversions:this.awayTeam.conversions,penalties:this.awayTeam.penalties,dropGoals:this.awayTeam.dropGoals,penaltyTries:this.awayTeam.penaltyTries}},gameTime:this.gameTime,scoreHistory:this.scoreHistory,status:this.gameStarted?"active":"completed"};this.gameStorageService.updateGame(this.currentGameId,m)}loadActiveGame(){let m=this.gameStorageService.getGames().filter(t=>t.status==="active");if(m.length>0){let t=m[0];this.currentGameId=t.id,this.homeTeam={name:t.homeTeam.name,score:t.homeTeam.score,tries:t.homeTeam.breakdown?.tries||0,conversions:t.homeTeam.breakdown?.conversions||0,penalties:t.homeTeam.breakdown?.penalties||0,dropGoals:t.homeTeam.breakdown?.dropGoals||0,penaltyTries:t.homeTeam.breakdown?.penaltyTries||0,color:"#1976d2"},this.awayTeam={name:t.awayTeam.name,score:t.awayTeam.score,tries:t.awayTeam.breakdown?.tries||0,conversions:t.awayTeam.breakdown?.conversions||0,penalties:t.awayTeam.breakdown?.penalties||0,dropGoals:t.awayTeam.breakdown?.dropGoals||0,penaltyTries:t.awayTeam.breakdown?.penaltyTries||0,color:"#388e3c"},this.gameTime=t.gameTime,this.scoreHistory=t.scoreHistory||[],this.gameStarted=!0,this.startTime=new Date(t.timestamp),this.startTimer(),this.snackBar.open("Restored active game!","Close",{duration:3e3})}}createNewGame(){let m={homeTeam:{name:this.homeTeam.name,score:0,breakdown:{tries:0,conversions:0,penalties:0,dropGoals:0,penaltyTries:0}},awayTeam:{name:this.awayTeam.name,score:0,breakdown:{tries:0,conversions:0,penalties:0,dropGoals:0,penaltyTries:0}},gameTime:"00:00",scoreHistory:[],status:"active"};this.currentGameId=this.gameStorageService.saveGame(m)}static \u0275fac=function(t){return new(t||o)(O(He),O($),O(he),O(we))};static \u0275cmp=P({type:o,selectors:[["app-score-tracker"]],decls:167,vars:33,consts:[["color","primary",1,"game-header"],[1,"game-title"],[1,"spacer"],[1,"game-time"],[1,"game-controls"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click","disabled"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click","disabled"],[1,"scoreboard"],[1,"team-card","home-team"],[1,"team-name",3,"click"],[1,"edit-icon"],[1,"team-score"],[1,"score-breakdown"],[1,"breakdown-item"],[1,"breakdown-label"],[1,"breakdown-value"],[1,"scoring-buttons"],[1,"vs-divider"],[1,"vs-icon"],[1,"vs-text"],[1,"team-card","away-team"],["class","game-status",4,"ngIf"],["class","score-history",4,"ngIf"],[1,"rules-info"],[1,"rules-grid"],[1,"rule-item"],[1,"game-status"],[1,"status-card"],[1,"winning-team"],["color","primary"],[1,"score-history"],[1,"history-list"],["class","history-item",4,"ngFor","ngForOf"],["class","show-more",4,"ngIf"],[1,"history-item"],[1,"history-time"],[1,"history-description"],[1,"history-points"],[1,"show-more"]],template:function(t,e){t&1&&(r(0,"mat-toolbar",0)(1,"span",1),a(2,"Rugby Score Tracker"),i(),f(3,"span",2),r(4,"span",3),a(5),i()(),r(6,"div",4)(7,"button",5),l("click",function(){return e.startGame()}),r(8,"mat-icon"),a(9,"play_arrow"),i(),a(10," Start Game "),i(),r(11,"button",6),l("click",function(){return e.endGame()}),r(12,"mat-icon"),a(13,"stop"),i(),a(14," End Game "),i(),r(15,"button",7),l("click",function(){return e.resetGame()}),r(16,"mat-icon"),a(17,"refresh"),i(),a(18," Reset "),i(),r(19,"button",8),l("click",function(){return e.undoLastScore()}),r(20,"mat-icon"),a(21,"undo"),i(),a(22," Undo "),i()(),r(23,"div",9)(24,"mat-card",10)(25,"mat-card-header")(26,"mat-card-title",11),l("click",function(){return e.editTeamName("home")}),a(27),r(28,"mat-icon",12),a(29,"edit"),i()()(),r(30,"mat-card-content")(31,"div",13),a(32),i(),r(33,"div",14)(34,"div",15)(35,"span",16),a(36,"Tries:"),i(),r(37,"span",17),a(38),i()(),r(39,"div",15)(40,"span",16),a(41,"Conversions:"),i(),r(42,"span",17),a(43),i()(),r(44,"div",15)(45,"span",16),a(46,"Penalties:"),i(),r(47,"span",17),a(48),i()(),r(49,"div",15)(50,"span",16),a(51,"Drop Goals:"),i(),r(52,"span",17),a(53),i()(),r(54,"div",15)(55,"span",16),a(56,"Penalty Tries:"),i(),r(57,"span",17),a(58),i()()()(),r(59,"mat-card-actions",18)(60,"button",5),l("click",function(){return e.addScore("home","try")}),a(61," Try (+5) "),i(),r(62,"button",5),l("click",function(){return e.addScore("home","conversion")}),a(63," Conv (+2) "),i(),r(64,"button",5),l("click",function(){return e.addScore("home","penalty")}),a(65," Pen (+3) "),i(),r(66,"button",5),l("click",function(){return e.addScore("home","dropGoal")}),a(67," Drop (+3) "),i(),r(68,"button",5),l("click",function(){return e.addScore("home","penaltyTry")}),a(69," P.Try (+5) "),i()()(),r(70,"div",19)(71,"mat-icon",20),a(72,"sports_rugby"),i(),r(73,"div",21),a(74,"VS"),i()(),r(75,"mat-card",22)(76,"mat-card-header")(77,"mat-card-title",11),l("click",function(){return e.editTeamName("away")}),a(78),r(79,"mat-icon",12),a(80,"edit"),i()()(),r(81,"mat-card-content")(82,"div",13),a(83),i(),r(84,"div",14)(85,"div",15)(86,"span",16),a(87,"Tries:"),i(),r(88,"span",17),a(89),i()(),r(90,"div",15)(91,"span",16),a(92,"Conversions:"),i(),r(93,"span",17),a(94),i()(),r(95,"div",15)(96,"span",16),a(97,"Penalties:"),i(),r(98,"span",17),a(99),i()(),r(100,"div",15)(101,"span",16),a(102,"Drop Goals:"),i(),r(103,"span",17),a(104),i()(),r(105,"div",15)(106,"span",16),a(107,"Penalty Tries:"),i(),r(108,"span",17),a(109),i()()()(),r(110,"mat-card-actions",18)(111,"button",8),l("click",function(){return e.addScore("away","try")}),a(112," Try (+5) "),i(),r(113,"button",8),l("click",function(){return e.addScore("away","conversion")}),a(114," Conv (+2) "),i(),r(115,"button",8),l("click",function(){return e.addScore("away","penalty")}),a(116," Pen (+3) "),i(),r(117,"button",8),l("click",function(){return e.addScore("away","dropGoal")}),a(118," Drop (+3) "),i(),r(119,"button",8),l("click",function(){return e.addScore("away","penaltyTry")}),a(120," P.Try (+5) "),i()()()(),C(121,pt,7,2,"div",23)(122,ht,11,2,"div",24),r(123,"div",25)(124,"mat-card")(125,"mat-card-header")(126,"mat-card-title")(127,"mat-icon"),a(128,"info"),i(),a(129," Rugby Scoring Rules "),i()(),r(130,"mat-card-content")(131,"div",26)(132,"div",27)(133,"strong"),a(134,"Try"),i(),a(135," - 5 points"),f(136,"br"),r(137,"small"),a(138,"Player touches ball down in opponent's in-goal area"),i()(),r(139,"div",27)(140,"strong"),a(141,"Conversion"),i(),a(142," - 2 points"),f(143,"br"),r(144,"small"),a(145,"Kick through posts after a try"),i()(),r(146,"div",27)(147,"strong"),a(148,"Penalty Kick"),i(),a(149," - 3 points"),f(150,"br"),r(151,"small"),a(152,"Kick awarded for opponent infringement"),i()(),r(153,"div",27)(154,"strong"),a(155,"Drop Goal"),i(),a(156," - 3 points"),f(157,"br"),r(158,"small"),a(159,"Drop kick through posts during play"),i()(),r(160,"div",27)(161,"strong"),a(162,"Penalty Try"),i(),a(163," - 5 points"),f(164,"br"),r(165,"small"),a(166,"Awarded when foul prevents probable try"),i()()()()()()),t&2&&(s(5),_(e.gameTime),s(2),d("disabled",e.gameStarted),s(4),d("disabled",!e.gameStarted),s(8),d("disabled",e.scoreHistory.length===0),s(4),d("@fadeInOut",void 0),s(),d("@slideInFromBottom",void 0),s(3),b(" ",e.homeTeam.name," "),s(5),_(e.homeTeam.score),s(6),_(e.homeTeam.tries),s(5),_(e.homeTeam.conversions),s(5),_(e.homeTeam.penalties),s(5),_(e.homeTeam.dropGoals),s(5),_(e.homeTeam.penaltyTries),s(2),d("disabled",!e.gameStarted),s(2),d("disabled",!e.gameStarted),s(2),d("disabled",!e.gameStarted),s(2),d("disabled",!e.gameStarted),s(2),d("disabled",!e.gameStarted),s(7),d("@slideInFromBottom",void 0),s(3),b(" ",e.awayTeam.name," "),s(5),_(e.awayTeam.score),s(6),_(e.awayTeam.tries),s(5),_(e.awayTeam.conversions),s(5),_(e.awayTeam.penalties),s(5),_(e.awayTeam.dropGoals),s(5),_(e.awayTeam.penaltyTries),s(2),d("disabled",!e.gameStarted),s(2),d("disabled",!e.gameStarted),s(2),d("disabled",!e.gameStarted),s(2),d("disabled",!e.gameStarted),s(2),d("disabled",!e.gameStarted),s(2),d("ngIf",e.getWinningTeam()),s(),d("ngIf",e.scoreHistory.length>0))},dependencies:[_e,le,pe,ge,Te,ye,Oe,ke,Pe,Me,E,w,Se,xe,Ee,Ae,Ie,Ne,Qe,Le,Ve,$e],styles:[".game-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;box-shadow:0 2px 4px #0000001a}.game-header[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}.game-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.game-header[_ngcontent-%COMP%]   .game-time[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;background:#ffffff1a;padding:4px 12px;border-radius:20px}.game-controls[_ngcontent-%COMP%]{display:flex;gap:8px;padding:16px;background:#f5f5f5;overflow-x:auto}.game-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-shrink:0;min-width:100px}.game-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}.scoreboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 8px #0000001a;transition:transform .2s ease}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.scoreboard[_ngcontent-%COMP%]   .team-card.home-team[_ngcontent-%COMP%]{border-left:4px solid #1976d2}.scoreboard[_ngcontent-%COMP%]   .team-card.away-team[_ngcontent-%COMP%]{border-left:4px solid #388e3c}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:8px}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:1.3rem;font-weight:600}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]:hover{color:#1976d2}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{margin-left:8px;font-size:18px;opacity:.6}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;text-align:center;color:#1976d2;text-shadow:2px 2px 4px rgba(0,0,0,.1);margin:16px 0}.scoreboard[_ngcontent-%COMP%]   .team-card.away-team[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]{color:#388e3c}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .score-breakdown[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin:16px 0}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .score-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px;background:#f9f9f9;border-radius:8px}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .score-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .score-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-weight:700;color:#333}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .scoring-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;padding:16px}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .scoring-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;padding:12px 8px;border-radius:8px}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .scoring-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5}.scoreboard[_ngcontent-%COMP%]   .vs-divider[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:16px 0}.scoreboard[_ngcontent-%COMP%]   .vs-divider[_ngcontent-%COMP%]   .vs-icon[_ngcontent-%COMP%]{font-size:2rem;color:#666;margin-bottom:8px}.scoreboard[_ngcontent-%COMP%]   .vs-divider[_ngcontent-%COMP%]   .vs-text[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#666;background:#f5f5f5;padding:8px 16px;border-radius:20px}.game-status[_ngcontent-%COMP%]{padding:0 16px 16px}.game-status[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]{background:linear-gradient(45deg,#4caf50,#8bc34a);color:#fff;border-radius:16px}.game-status[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .winning-team[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:600;text-align:center}.game-status[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .winning-team[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:1.5rem}.score-history[_ngcontent-%COMP%]{padding:0 16px 16px}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{border-radius:16px}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 0;border-bottom:1px solid #eee}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-time[_ngcontent-%COMP%]{font-size:.8rem;color:#666;min-width:60px}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-description[_ngcontent-%COMP%]{flex:1;margin:0 12px;font-size:.9rem}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-points[_ngcontent-%COMP%]{font-weight:700;color:#4caf50;min-width:40px;text-align:right}.score-history[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%]{text-align:center;padding:8px;color:#666}.rules-info[_ngcontent-%COMP%]{padding:0 16px 16px}.rules-info[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{border-radius:16px}.rules-info[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center}.rules-info[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.rules-info[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .rules-grid[_ngcontent-%COMP%]{display:grid;gap:16px}.rules-info[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .rules-grid[_ngcontent-%COMP%]   .rule-item[_ngcontent-%COMP%]{padding:12px;background:#f9f9f9;border-radius:8px;border-left:4px solid #1976d2}.rules-info[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .rules-grid[_ngcontent-%COMP%]   .rule-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-size:1rem}.rules-info[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .rules-grid[_ngcontent-%COMP%]   .rule-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666;line-height:1.4}@media (min-width: 768px){.game-controls[_ngcontent-%COMP%]{justify-content:center}.game-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.scoreboard[_ngcontent-%COMP%]{flex-direction:row;align-items:stretch;max-width:1200px;margin:0 auto}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]{flex:1}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .scoring-buttons[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.scoreboard[_ngcontent-%COMP%]   .vs-divider[_ngcontent-%COMP%]{margin:0 16px;justify-content:center;min-width:100px}.score-history[_ngcontent-%COMP%], .rules-info[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.rules-info[_ngcontent-%COMP%]   .rules-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.game-header[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%]{font-size:1.5rem}.game-header[_ngcontent-%COMP%]   .game-time[_ngcontent-%COMP%]{font-size:1.6rem}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]{font-size:5rem}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .score-breakdown[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .scoring-buttons[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .scoring-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem}.rules-info[_ngcontent-%COMP%]   .rules-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1400px){.scoreboard[_ngcontent-%COMP%]   .team-card[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]{font-size:6rem}.rules-info[_ngcontent-%COMP%]   .rules-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}}.text-center[_ngcontent-%COMP%]{text-align:center}.mt-16[_ngcontent-%COMP%]{margin-top:16px}.mb-16[_ngcontent-%COMP%]{margin-bottom:16px}@keyframes _ngcontent-%COMP%_scoreChange{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.team-score.score-changed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scoreChange .5s ease}"],data:{animation:[qe,Ue]}})};export{Ze as ScoreTrackerComponent};
