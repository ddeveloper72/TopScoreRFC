import{a as g,b as d}from"./chunk-QJKZYWU4.js";import{a as o,b as h,ba as s,ga as c,s as n}from"./chunk-JMAXUHPF.js";var p=class r{runtime;constructor(){let e=window;this.runtime=e&&e.__env||{}}get(e,t){let i=this.runtime,u=e.split("."),a=i;for(let l of u)if(a&&Object.prototype.hasOwnProperty.call(a,l))a=a[l];else{a=void 0;break}return a??t}get apiUrl(){let e=(this.get("apiUrl")||"").toString().trim();if(!e)return"";let t=e.replace(/\s+$/,"");try{let i=new URL(t);(!i.pathname||i.pathname==="/"||i.pathname==="")&&(i.pathname="/api"),t=i.toString()}catch{/\/api(\/|$)/i.test(t)||(t=t.replace(/\/+$/,"")+"/api")}return t.replace(/\/+$/,"")}get googleMapsApiKey(){return this.get("googleMaps.apiKey")||""}get googleMapId(){return this.get("googleMaps.mapId")}static \u0275fac=function(t){return new(t||r)};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})};var v=class r{constructor(e,t){this.http=e;this.cfg=t;let i=this.cfg.apiUrl||"http://localhost:3000/api";this.apiUrl=i.replace(/\/$/,""),this.httpOptions={headers:new g({"Content-Type":"application/json","X-API-Key":this.apiKey})}}apiUrl;apiKey="ClaneRFC2025SecureKey!";httpOptions;getAllMatches(){return this.http.get(`${this.apiUrl}/matches`,this.httpOptions).pipe(n(e=>(e||[]).map(t=>h(o({},t),{id:t._id||t.id,date:t.date?new Date(t.date):new Date}))))}createMatch(e){return this.http.post(`${this.apiUrl}/matches`,e,this.httpOptions)}updateMatch(e,t){return this.http.put(`${this.apiUrl}/matches/${e}`,t,this.httpOptions)}deleteMatch(e){return this.http.delete(`${this.apiUrl}/matches/${e}`,this.httpOptions)}addMatchEvent(e,t){return this.http.post(`${this.apiUrl}/matches/${e}/events`,t,this.httpOptions)}getMatchEvents(e){return this.http.get(`${this.apiUrl}/matches/${e}/events`,this.httpOptions).pipe(n(t=>t.events||[]))}updateMatchEvent(e,t,i){return this.http.put(`${this.apiUrl}/matches/${e}/events/${t}`,i,this.httpOptions)}deleteMatchEvent(e,t){return this.http.delete(`${this.apiUrl}/matches/${e}/events/${t}`,this.httpOptions)}getMatchWithEvents(e){return this.http.get(`${this.apiUrl}/matches/${e}`,this.httpOptions).pipe(n(t=>h(o({},t),{id:t._id||t.id,date:t.date?new Date(t.date):new Date,events:t.events||[]})))}static \u0275fac=function(t){return new(t||r)(c(d),c(p))};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})};export{p as a,v as b};
