/* Scroll Progress Bar - Glassmorphic Design */
.scroll-progress-bar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  z-index: 1000;
  pointer-events: none;

  /* Glassmorphic gradient background matching the app theme */
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

  /* Scroll-driven animation keyframes - targeting the sidenav content */
  animation: scaleProgress auto linear;
  animation-timeline: scroll(nearest);

  /* Transform origin from left to right */
  transform-origin: left;

  /* Initial state - hidden */
  transform: scaleX(0);

  /* Subtle glow effect */
  box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);

  /* Smooth transitions for any non-scroll animations */
  transition: opacity 0.3s ease, box-shadow 0.3s ease;
}

/* Fallback for browsers that don't support scroll-timeline */
@supports not (animation-timeline: scroll()) {
  .scroll-progress-bar {
    /* Fallback: always visible but less prominent */
    transform: scaleX(0.1);
    opacity: 0.6;
    background: linear-gradient(
      135deg,
      rgba(102, 126, 234, 0.5) 0%,
      rgba(118, 75, 162, 0.5) 100%
    );
  }

  /* JavaScript can update this if needed */
  .scroll-progress-bar.js-controlled {
    transition: transform 0.1s ease-out;
  }
}

/* Scroll progress keyframes */
@keyframes scaleProgress {
  0% {
    transform: scaleX(0);
  }
  100% {
    transform: scaleX(1);
  }
}

/* Enhanced glow on hover over the top area (optional visual feedback) */
body:hover .scroll-progress-bar {
  box-shadow: 0 0 15px rgba(102, 126, 234, 0.4);
}

/* Reduced motion support for accessibility */
@media (prefers-reduced-motion: reduce) {
  .scroll-progress-bar {
    animation: none;
    opacity: 0.4;
    transform: scaleX(0.2);
    transition: none;
  }
}
